import * as std from "std";

export const project = {
  name: "hello_world",
};

export default function (): std.Recipe<std.Directory> {
  return std.runBash`
    gcc src/main.c -o "$BRIOCHE_OUTPUT/bin/hello-world"
  `
    .workDir(Brioche.glob("src"))
    .outputScaffold(std.directory({ bin: std.directory() }))
    .dependencies(std.toolchain)
    .toDirectory()
    .pipe((recipe) => std.withRunnableLink(recipe, "bin/hello-world"));
}
